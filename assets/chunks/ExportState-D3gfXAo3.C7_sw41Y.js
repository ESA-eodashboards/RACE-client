import{ay as N,az as F,r as z,c as B,o as m,w as c,D as n,g as s,a as h,b as S,F as A,A as E,am as L,j as x,I as b,h as C,av as M,f as D,N as I,z as V}from"./framework.DbRhnodN.js";import{_ as O,a9 as p,V as w,aa as P,e as j,ab as J,ac as _,k as U,ad as R,ae as W,p as q,t as G,af as H,F as k,o as K,ag as T,ah as $,A as Q,C as X}from"./eo-dash.B_cHVYB2.js";import Y from"./PopUp-BMus90hz.DLRnqZEw.js";import{V as Z}from"./index-Uv6dswg_.DtlJ1g1J.js";import{V as ee,a as te,b as ae,c as oe,d as se}from"./VCard-VG0vOlKn.CZAuRAV4.js";import"./item.Bx-rtsOD.js";import"./commonjsHelpers.BosuxZz1.js";import"./VDialog-BgAHvaqZ.Cp1dXFTY.js";import"./forwardRefs-CswFzwtB.DgUT03a8.js";import"./transition-BDlIiv4N.yKVbKN_V.js";import"./VImg-Clp3nrge.JBgARvuF.js";const re=".code-block[data-v-86a0e649]{background-color:#ddd;font-family:monospace;font-size:small;max-height:200px;overflow-y:auto}",ie=q({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...X(),...Q()},"VDivider"),ne=U()({name:"VDivider",props:ie(),setup(e,d){let{attrs:o,slots:l}=d;const{themeClasses:y}=G(e),{textColorClasses:v,textColorStyles:g}=H(()=>e.color),u=D(()=>{const a={};return e.length&&(a[e.vertical?"height":"width"]=k(e.length)),e.thickness&&(a[e.vertical?"borderRightWidth":"borderTopWidth"]=k(e.thickness)),a});return K(()=>{const a=s("hr",{class:V([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},y.value,v.value,e.class]),style:I([u.value,g.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":!o.role||o.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${o.role||"separator"}`},null);return l.default?s("div",{class:V(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[a,s("div",{class:"v-divider__content"},[l.default()]),a]):a}),{}}}),le={class:"d-flex flex-wrap gap-2 mb-4"},ce={style:{position:"absolute",bottom:"15px"}},de={key:0,class:"text-success mr-3"},ue={class:"pa-3 code-block mb-4"},me={key:0,class:"mb-4"},pe={class:"pa-3 code-block"},ye={__name:"ExportState",props:N({getLayers:{type:Function,default:W},getChartSpec:{type:Function,default:R}},{modelValue:{type:Boolean,required:!0,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const d=F(e,"modelValue"),o=e,l=z(!1),y=[{id:Symbol(),copyFn:async()=>await p(g(),l),copyAs:"simple map"},{id:Symbol(),copyFn:async()=>await p(JSON.stringify(o.getLayers()),l),copyAs:"layers configuration"},{id:Symbol(),copyFn:async()=>await p(v(),l),copyAs:"map tour section"},{id:Symbol(),copyFn:async()=>await p(u(),l),copyAs:"chart",showIf:()=>{var a;return!!((a=o.getChartSpec)!=null&&a.call(o))}}],v=()=>{const[a,t,i]=T.value,r="### <!--{ layers=",f=`zoom="${i}" center=[${[a,t]}] projection="${$.value}" animationOptions={duration:500}}-->
#### Tour step title
Text describing the current step of the tour and why it is interesting what the map shows currently
`;return`${r}'${JSON.stringify(_(o.getLayers()))}' ${f}`},g=()=>{const[a,t,i]=T.value,r='## Map Example <!--{as="eox-map" style="width: 100%; height: 500px;" layers=',f=`zoom="${i}" center=[${[a,t]}] projection="${$.value}" }-->`;return`${r}'${JSON.stringify(_(o.getLayers()))}' ${f}`},u=()=>{var r;const a=(r=o.getChartSpec)==null?void 0:r.call(o);return a?`## Chart Example <!--{as="eox-chart" style="height: 300px;" spec='${JSON.stringify(a)}' }-->`:""};return(a,t)=>(m(),B(Y,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=i=>d.value=i)},{default:c(()=>[n(ee,{style:{"max-height":"498px"}},{default:c(()=>[n(te,{class:"bg-primary",style:{"max-height":"49px"}},{default:c(()=>t[2]||(t[2]=[s("h5",{class:"text-h5"},"Storytelling map configuration",-1)])),_:1,__:[2]}),n(ae,{class:"py-5 overflow-auto",style:{height:"400px"}},{default:c(()=>{var i;return[s("div",le,[(m(),h(A,null,E(y,r=>L(n(w,{class:"text-body-2",onClick:r.copyFn,key:r.id,small:"",variant:"text","prepend-icon":[x(P)]},{default:c(()=>[b(" copy as "+C(r.copyAs),1)]),_:2},1032,["onClick","prepend-icon"]),[[M,!r.showIf||r.showIf()]])),64))]),s("div",ce,[n(Z,null,{default:c(()=>[l.value?(m(),h("div",de,[n(j,{color:"success",left:"",icon:[x(J)]},null,8,["icon"]),t[3]||(t[3]=s("small",null,"copied!",-1))])):S("v-if",!0)]),_:1})]),t[5]||(t[5]=s("p",{class:"text-body-2 mb-2"},[s("strong",null,"Map Layers Configuration")],-1)),s("div",ue,C(x(_)(e.getLayers())),1),(i=o.getChartSpec)!=null&&i.call(o)?(m(),h("div",me,[t[4]||(t[4]=s("p",{class:"text-body-2 mb-2"},[s("strong",null,"Chart Spec (for export)")],-1)),s("div",pe,C(u()),1)])):S("v-if",!0)]}),_:1,__:[5]}),n(ne),n(oe,{style:{"max-height":"49px"}},{default:c(()=>[n(se),n(w,{variant:"text",onClick:t[0]||(t[0]=i=>d.value=!d.value)},{default:c(()=>t[6]||(t[6]=[b(" Close ")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},ke=O(ye,[["styles",[re]],["__scopeId","data-v-86a0e649"]]);export{ke as default};
