import"./main.DjhuNlpq.js";import"./main.4ojXamTQ.js";import"./main.CaI3izYa.js";import"./index.BsdYET77.js";import{_ as L,s as w,a as A,Y as f,Z as y,j as B,i as D,$ as F,a0 as N,a1 as $}from"./eo-dash.Ce5k_50M.js";import{f as G,r as H,a as i,o as p,b as C,K as I,j as g,E as J,g as h,h as K}from"./framework.luDQHaOO.js";import"./lit-element.Deg-YTNa.js";import"./when.BR7zwNJC.js";import"./repeat.DqtNkz5O.js";import"./directive.CvdRHFdJ.js";import"./directive-helpers.oNa9w_hR.js";import"./unsafe-html.q2xQv78y.js";import"./addCommonStyleSheet.C1Vj32jp.js";import"./commonjsHelpers.BosuxZz1.js";import"./index.BUIxO2d3.js";import"./getElement.CdRlZPdn.js";import"./browser.COpcbqT-.js";import"./toolcool-range-slider.min.BBXDELo7.js";import"./utils.DZj92Qv1.js";import"./index.BSpBAx16.js";import"./Group.DfJ6KxFj.js";import"./extent.CajDHjk1.js";import"./dayjs.min.Ba62AOpW.js";import"./sequential.BHUe01AH.js";import"./item.CC2Khh23.js";const O="eox-layercontrol[data-v-88d02d9c]{overflow:auto}",P={class:"d-flex flex-column"},R=["for"],U={key:0,class:"mt-2 mb-2"},Y={__name:"EodashLayerControl",props:{map:{type:String,default:"first"},tools:{type:Array,default:()=>["datetime","info","config","legend","opacity"]},title:{type:String||Boolean,default:"Layers"},cssVars:{type:Object}},setup(s){const o=s,_={tools:o.tools,style:o.cssVars},{selectedCompareStac:v,selectedStac:x}=w(A()),E=G(()=>o.map==="second"?f.value!==null&&v.value!==null:y.value!==null&&x.value!==null),S=o.map==="second"?B:D,l=o.map==="second"?f:y,V=H(null),k=async e=>{var u;const{layer:n,datetime:j}=e.detail,m=await $(S,n);let r=[];m&&(r=await m.updateLayerJson(j,n.get("id"),o.map));const t=(u=r==null?void 0:r.find(a=>{var d;return((d=a==null?void 0:a.properties)==null?void 0:d.id)==="AnalysisGroup"}))==null?void 0:u.layers;t!=null&&t.length&&(t==null||t.forEach(a=>{a.properties.layerControlExpand=!0,a.properties.layerControlToolsExpand=!0}),l.value.layers=r)};let c;const T=e=>{clearTimeout(c),c=setTimeout(()=>{k(e)},500)},b=e=>{o.map==="second"?F.value=e.detail.jsonformValue:N.value=e.detail.jsonformValue};return(e,n)=>(p(),i("span",P,[E.value?(p(),i("eox-layercontrol",I({key:g(l)},_,{for:g(l),"onDatetime:updated":T,toolsAsList:"true",style:{"--eox-background-color":"transparent"},ref_key:"eoxLayercontrol",ref:V,"on:layerConfig:change":b}),[J(e.$slots,"layerstitle",{},()=>[h("div",null,[s.title?(p(),i("p",U,[h("strong",null,K(s.title),1)])):C("v-if",!0)])],!0)],16,R)):C("v-if",!0)]))}},he=L(Y,[["styles",[O]],["__scopeId","data-v-88d02d9c"]]);export{he as default};
